{"mappings":"AAWA,MAAMA,EAAU,IAAIC,QAAQ,CAC1B,YACE,0EA4BG,SAASC,EAAgBC,GAM9B,OALAC,IACAC,ICYAC,EAAWC,UAAUC,IAAI,aAQzBC,EAASF,UAAUC,IAAI,aDhBhBE,MAAM,wDAAuCP,IAAW,C,QAC7DH,IAECW,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IAEvBC,OAAMC,IACLC,QAAQC,IAAIF,GACZG,GAAW,IAEZC,SAAQ,KACPC,IACAC,ICXJlB,EAAWC,UAAUkB,OAAO,YDYd,G,CC7DhB,MAAMC,EAAYC,SAASC,cAAc,iBACnCtB,EAAaqB,SAASC,cAAc,aACpCC,EAAYF,SAASC,cAAc,WACnCnB,EAAWkB,SAASC,cAAc,UA6BjC,SAASxB,IACdyB,EAAUtB,UAAUkB,OAAO,Y,CAGtB,SAASF,IACdM,EAAUtB,UAAUC,IAAI,Y,CAGnB,SAASgB,IACdE,EAAUnB,UAAUkB,OAAO,Y,CAGtB,SAASpB,IACdqB,EAAUnB,UAAUC,IAAI,Y,CAWnB,SAASa,IACdZ,EAASF,UAAUkB,OAAO,Y,EDxC1BrB,IACAC,IAEOK,MAAM,sCAAsB,C,QACjCV,IAECW,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IAEvBC,OAAMC,IACLC,QAAQC,IAAIF,GACZG,GAAW,IAEZC,SAAQ,KACPC,IACAC,GAAY,KC9BJb,MAAKmB,IACjBJ,EAAUK,UAKZ,SAA4BD,GAC1B,OAAOA,EACJE,KAAI,EAACC,GAAEA,EAAEC,KAAEA,KAAW,kBAAkBD,MAAOC,eAC/CC,KAAK,G,CARcC,CAAmBN,EAAK,IAGhDJ,EAAUW,iBAAiB,UAQ3B,SAAmBC,GACjBpC,EAAgBoC,EAAEC,cAAcC,OAAO7B,MAAKmB,IAC1CxB,EAAWyB,UAIf,SAA0BD,GACxB,OAAOA,EACJE,KACC,EAACS,IAAEA,EAAGC,OAAEA,KACN,YAAYD,wBAA0BC,EAAO,GAAGR,eAAeQ,EAAO,GAAGC,yCAAyCD,EAAO,GAAGE,0BAE/HT,KAAK,G,CAViBU,CAAiBf,EAAK,G","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["import {\n  showLoader,\n  hideLoader,\n  showSelect,\n  hideSelect,\n  showInfo,\n  hideInfo,\n  showError,\n  hideError,\n} from './index';\n\nconst headers = new Headers({\n  'x-api-key':\n    'live_H5dcCXJGHIlEr22Yyj0v0Ng8drbQhmMpHRzZr8mR6eds0xuua5Gs5Y8Yhb4o0bcE',\n});\n\nconst BASE_URL = 'https://api.thecatapi.com/v1';\n\nexport function fetchBreeds() {\n  showLoader();\n  hideSelect();\n\n  return fetch(`${BASE_URL}/breeds`, {\n    headers,\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log(error);\n      showError();\n    })\n    .finally(() => {\n      hideLoader();\n      showSelect();\n    });\n}\n\nexport function fetchCatByBreed(breedId) {\n  showLoader();\n  hideSelect();\n  hideInfo();\n  hideError();\n\n  return fetch(`${BASE_URL}/images/search?breed_ids=${breedId}`, {\n    headers,\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log(error);\n      showError();\n    })\n    .finally(() => {\n      hideLoader();\n      showSelect();\n      showInfo();\n    });\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst selectRef = document.querySelector('.breed-select');\nconst catInfoRef = document.querySelector('.cat-info');\nconst loaderRef = document.querySelector('.loader');\nconst errorRef = document.querySelector('.error');\n\nfetchBreeds().then(data => {\n  selectRef.innerHTML = createSelectMarkup(data);\n});\n\nselectRef.addEventListener('change', setOutput);\n\nfunction createSelectMarkup(data) {\n  return data\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n}\n\nfunction setOutput(e) {\n  fetchCatByBreed(e.currentTarget.value).then(data => {\n    catInfoRef.innerHTML = createInfoMarkup(data);\n  });\n}\n\nfunction createInfoMarkup(data) {\n  return data\n    .map(\n      ({ url, breeds }) =>\n        `<img src=${url} width=500><div><h2>${breeds[0].name}</h2><p>${breeds[0].description}</p><p><b>Temperament:</b> ${breeds[0].temperament}</p></div>`\n    )\n    .join('');\n}\n\nexport function showLoader() {\n  loaderRef.classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n  loaderRef.classList.add('is-hidden');\n}\n\nexport function showSelect() {\n  selectRef.classList.remove('is-hidden');\n}\n\nexport function hideSelect() {\n  selectRef.classList.add('is-hidden');\n}\n\nexport function showInfo() {\n  catInfoRef.classList.remove('is-hidden');\n}\n\nexport function hideInfo() {\n  catInfoRef.classList.add('is-hidden');\n}\n\nexport function showError() {\n  errorRef.classList.remove('is-hidden');\n}\n\nexport function hideError() {\n  errorRef.classList.add('is-hidden');\n}\n"],"names":["$6b5f202d1456c0af$var$headers","Headers","$6b5f202d1456c0af$export$57b7d3a597416aa2","breedId","$1f0dc3b9307be026$export$56525cbb1fcd885c","$1f0dc3b9307be026$export$91b814d22a199bc2","$1f0dc3b9307be026$var$catInfoRef","classList","add","$1f0dc3b9307be026$var$errorRef","fetch","then","response","ok","Error","status","json","catch","error","console","log","$1f0dc3b9307be026$export$3879b24e8245693d","finally","$1f0dc3b9307be026$export$5cee2c2772922923","$1f0dc3b9307be026$export$d3723392410533e4","remove","$1f0dc3b9307be026$var$selectRef","document","querySelector","$1f0dc3b9307be026$var$loaderRef","data","innerHTML","map","id","name","join","$1f0dc3b9307be026$var$createSelectMarkup","addEventListener","e","currentTarget","value","url","breeds","description","temperament","$1f0dc3b9307be026$var$createInfoMarkup"],"version":3,"file":"index.15c46083.js.map"}