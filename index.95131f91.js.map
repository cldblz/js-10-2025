{"mappings":"YAWA,IAAMA,EAAU,IAAIC,QAAQ,CAC1B,YACE,0EAGEC,EAAW,+BAyBV,SAASC,EAAgBC,GAM9B,OALAC,IACAC,ICYAC,EAAWC,UAAUC,IAAI,aAQzBC,EAASF,UAAUC,IAAI,aDhBhBE,MAAM,GAAuCC,OAApCV,EAAS,6BAAmCU,OAARR,GAAW,CAC7DS,QAAAb,IAECc,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IAEjBC,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZG,G,IAEDC,SAAQ,WACPC,IACAC,ICXJpB,EAAWC,UAAUoB,OAAO,Y,IAjD9B,IAAMC,EAAYC,SAASC,cAAc,iBACnCxB,EAAauB,SAASC,cAAc,aACpCC,EAAYF,SAASC,cAAc,WACnCrB,EAAWoB,SAASC,cAAc,UA6BjC,SAAS1B,IACd2B,EAAUxB,UAAUoB,OAAO,Y,CAGtB,SAASF,IACdM,EAAUxB,UAAUC,IAAI,Y,CAGnB,SAASkB,IACdE,EAAUrB,UAAUoB,OAAO,Y,CAGtB,SAAStB,IACduB,EAAUrB,UAAUC,IAAI,Y,CAWnB,SAASe,IACdd,EAASF,UAAUoB,OAAO,Y,EDxC1BvB,IACAC,IAEOK,MAAM,GAAYC,OAATV,EAAS,WAAU,CACjCW,QAAAb,IAECc,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IAEjBC,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZG,G,IAEDC,SAAQ,WACPC,IACAC,G,KC9BQb,MAAK,SAAAmB,GACjBJ,EAAUK,UAKZ,SAA4BD,GAC1B,OAAOA,EACJE,KAAI,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIC,EAAIF,EAAJE,K,MAAW,kBAAyB1B,OAAPyB,EAAG,MAASzB,OAAL0B,EAAK,Y,IACpDC,KAAK,G,CARcC,CAAmBP,E,IAG3CJ,EAAUY,iBAAiB,UAQ3B,SAAmBC,GACjBvC,EAAgBuC,EAAEC,cAAcC,OAAO9B,MAAK,SAAAmB,GAC1C1B,EAAW2B,UAIf,SAA0BD,GACxB,OAAOA,EACJE,KACC,SAAAC,G,IAAGS,EAAGT,EAAHS,IAAKC,EAAMV,EAANU,O,MACN,YAAsClC,OAA1BiC,EAAI,wBAA+CjC,OAAzBkC,EAAO,GAAGR,KAAK,YAA6D1B,OAAnDkC,EAAO,GAAGC,YAAY,+BAAmDnC,OAAtBkC,EAAO,GAAGE,YAAY,a,IAE3IT,KAAK,G,CAViBU,CAAiBhB,E","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["import {\n  showLoader,\n  hideLoader,\n  showSelect,\n  hideSelect,\n  showInfo,\n  hideInfo,\n  showError,\n  hideError,\n} from './index';\n\nconst headers = new Headers({\n  'x-api-key':\n    'live_H5dcCXJGHIlEr22Yyj0v0Ng8drbQhmMpHRzZr8mR6eds0xuua5Gs5Y8Yhb4o0bcE',\n});\n\nconst BASE_URL = 'https://api.thecatapi.com/v1';\n\nexport function fetchBreeds() {\n  showLoader();\n  hideSelect();\n\n  return fetch(`${BASE_URL}/breeds`, {\n    headers,\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log(error);\n      showError();\n    })\n    .finally(() => {\n      hideLoader();\n      showSelect();\n    });\n}\n\nexport function fetchCatByBreed(breedId) {\n  showLoader();\n  hideSelect();\n  hideInfo();\n  hideError();\n\n  return fetch(`${BASE_URL}/images/search?breed_ids=${breedId}`, {\n    headers,\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log(error);\n      showError();\n    })\n    .finally(() => {\n      hideLoader();\n      showSelect();\n      showInfo();\n    });\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst selectRef = document.querySelector('.breed-select');\nconst catInfoRef = document.querySelector('.cat-info');\nconst loaderRef = document.querySelector('.loader');\nconst errorRef = document.querySelector('.error');\n\nfetchBreeds().then(data => {\n  selectRef.innerHTML = createSelectMarkup(data);\n});\n\nselectRef.addEventListener('change', setOutput);\n\nfunction createSelectMarkup(data) {\n  return data\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n}\n\nfunction setOutput(e) {\n  fetchCatByBreed(e.currentTarget.value).then(data => {\n    catInfoRef.innerHTML = createInfoMarkup(data);\n  });\n}\n\nfunction createInfoMarkup(data) {\n  return data\n    .map(\n      ({ url, breeds }) =>\n        `<img src=${url} width=500><div><h2>${breeds[0].name}</h2><p>${breeds[0].description}</p><p><b>Temperament:</b> ${breeds[0].temperament}</p></div>`\n    )\n    .join('');\n}\n\nexport function showLoader() {\n  loaderRef.classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n  loaderRef.classList.add('is-hidden');\n}\n\nexport function showSelect() {\n  selectRef.classList.remove('is-hidden');\n}\n\nexport function hideSelect() {\n  selectRef.classList.add('is-hidden');\n}\n\nexport function showInfo() {\n  catInfoRef.classList.remove('is-hidden');\n}\n\nexport function hideInfo() {\n  catInfoRef.classList.add('is-hidden');\n}\n\nexport function showError() {\n  errorRef.classList.remove('is-hidden');\n}\n\nexport function hideError() {\n  errorRef.classList.add('is-hidden');\n}\n"],"names":["$ae0c329fb0fb36dc$var$headers","Headers","$ae0c329fb0fb36dc$var$BASE_URL","$ae0c329fb0fb36dc$export$57b7d3a597416aa2","breedId","$b8f9b7833fa37166$export$56525cbb1fcd885c","$b8f9b7833fa37166$export$91b814d22a199bc2","$b8f9b7833fa37166$var$catInfoRef","classList","add","$b8f9b7833fa37166$var$errorRef","fetch","concat","headers","then","response","ok","Error","status","json","catch","error","console","log","$b8f9b7833fa37166$export$3879b24e8245693d","finally","$b8f9b7833fa37166$export$5cee2c2772922923","$b8f9b7833fa37166$export$d3723392410533e4","remove","$b8f9b7833fa37166$var$selectRef","document","querySelector","$b8f9b7833fa37166$var$loaderRef","data","innerHTML","map","param","id","name","join","$b8f9b7833fa37166$var$createSelectMarkup","addEventListener","e","currentTarget","value","url","breeds","description","temperament","$b8f9b7833fa37166$var$createInfoMarkup"],"version":3,"file":"index.95131f91.js.map"}